<!DOCTYPE HTML>
<html>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">

<body>

<script src="wordlist_english.js"></script>
<script src="crypto.js"></script>
<script>
console.log(wordListArray[0])

testDoubleSha256();
async function testDoubleSha256() {
	// Hard code for testing
	const payload_and_prefix = '0488ade4969dd291ec4af4df61193c2b5ff3f3f5e1c46fe2564f6e286d5c45020e1b1783';

	// convert to hex str array
	const pay_and_pre_hex_str_array = new Array;
	for(var i=0; i <payload_and_prefix.length; i+=2){
		pay_and_pre_hex_str_array.push(payload_and_prefix.substring(i, i+2));
	}
	console.log('hex string array: ' + pay_and_pre_hex_str_array);

	const pay_and_pre_bytes_arr = new Array;
	for(var i=0; i < pay_and_pre_hex_str_array.length; i++){
		pay_and_pre_bytes_arr.push(parseInt(pay_and_pre_hex_str_array[i], 16));
	}
	console.log('number array: ' + pay_and_pre_bytes_arr);

	const pay_and_pre_uint8 = new Uint8Array(pay_and_pre_bytes_arr);

/*
    const 256_hash_buffer = await crypto.subtle.digest('SHA-256', pay_and_pre_uint8);
    //const dbl_256_hash_buffer = await crypto.subtle.digest('SHA-256', 256_hash_buffer);
    const hashArray = Array.from(new Uint8Array(256_hash_buffer));
    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    //return hashHex;
    console.log(hashHex);
*/

}
/*
	const buffer = new Uint8Array(36);
    for(var i=0; i < payload_and_prefix.length; i+=2){
        buffer[i/2] = parseInt(payload_and_prefix.substring(i, i+2) , 16);
    }
	console.log('buffer: ' + buffer);
*/
</script>

</body>

</html>
